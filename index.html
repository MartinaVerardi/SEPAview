<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
	<title>SEPAView - Live Linked Sensor Data</title>

	<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">

	<link href = "./style.css" rel = "stylesheet" type="text/css">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/mootools/1.6.0/mootools-core.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@arces-wot/sepa-js@0.1.0/web/sepa.js"></script>
	<script src="https://d3js.org/d3.v3.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

	<script src="lib/bullet.js"></script>
	<script src="js/map.js"></script>
	<script src="js/other-function.js"></script>
	<script src="js/arces-demo.js"></script>
	
    <script src="js/tree.js"></script>
<!--  
	<script src="js/createSvg.js"></script>
	<script src="js/sepa-api.js"></script>
-->

	<script>
        $(window).scroll(function() {
            if($(document).scrollTop() > 45){
                $("#title").addClass("shrink");
                $("#titleText").addClass("shrink");
            }else {
                $("#title").removeClass("shrink");
                $("#titleText").removeClass("shrink");
            }
        });
	</script>

</head>

<body onLoad='onLoad()'>

<div class="loader_wrap" id="loader_wrap">
	<div class="loader" id="loader"></div>
</div>

<div id="container">
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div id="tree"></div>

    </div>

    <div id="main">

        <div id = "title"><p id="titleText">SEPAView - Linked Sensor Data</p></div>
        <div id="map"></div>
        <div id="plot"></div>
		<div id="close_all" onclick="closeAll()">Close All</div>
        <div id="graph"></div>

	</div>

</div>

<script>
    function onLoad() {
        liveMonitor();
    }
</script>

<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAHgZRudu8jTxJgJ3IXCVyfrTH1RLdPOgI&callback=initMap"></script>

<!--  questo script va messo dopo la dichiarazione dei div necessari ai svg  -->
<script src="js/livedata.js"></script>

<script>

    //funzione dei bottoni per ogni div
    function closeDiv(btn_id){
        $("#"+btn_id).hide();
    }

    //bottone di chiusura completa
	function closeAll(){
        var elems = document.getElementsByClassName('graph');
        for(var i = 0; i < elems.length; i++) {
			if(elems[i].style.display = 'block'){
                elems[i].style.display = 'none';
			}
        }
	}

	if(screen.width >= 1025){
        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
            document.getElementById("main").style.marginLeft = "250px";
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("main").style.marginLeft= "0";
        }
	}else if(screen.width < 1025){
        function openNav() {
            document.getElementById("mySidenav").style.width = "75%";
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }
    }

</script>

</body>
</html>