<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>SEPAView - Historical Linked Sensor Data</title>

	<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

    <link href = "./styleAnalitics.css" rel = "stylesheet" type="text/css">

	<script src="https://cdn.jsdelivr.net/npm/@arces-wot/sepa-js@0.1.0/web/sepa.js"></script>
	<script src="lib/plotly-latest.min.js"></script>
	<script src="lib/color-scheme.js"></script>
	<script src="js/arces-demo.js"></script>
	<script src="js/historicaldata.js"></script>
</head>

<body onload='onLoad()'>

<div id="container">

	<div id = "title"><p id="titleText">SEPAView - Historical Linked Sensor Data</p></div>
    
    <div id="plot"></div>
    
    <div id="waiting"></div>

	<div id="form_and_button" style="text-align: center" >
		<button id="open-button" onclick="openForm()"><p>Change Date and Time</p></button>
		<div class="form-popup" id="myForm">
			<div class="form-container">
				<div id="form"></div>
				<div id="buttonCambia"></div>
				<button type="button" class="btn cancel" onclick="closeForm()">Close</button>
			</div>
		</div>
	</div>

</div>

<script>
    function onLoad() {   		
    		var parameters = window.location.search.substring(1).split("&");

    	    var observation = decodeURIComponent(parameters[0].split("=")[1]);
    	    var title = unescape(unescape(parameters[1].split("=")[1]));
		
        document.getElementById('waiting').innerHTML = "<h3 id='load'>Loading data...please wait...</h3>";
        queryLiveData(observation,title);
    }

    function openForm() {
        document.getElementById("myForm").style.display = "block";
    }

    function closeForm() {
        document.getElementById("myForm").style.display = "none";
    }
</script>

</body>
</html>